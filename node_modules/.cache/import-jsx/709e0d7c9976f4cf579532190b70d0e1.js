"use strict";

const React = require('react');
const {
  Text,
  Box,
  useInput,
  Newline
} = require("ink");
const TextInput = require("ink-text-input").default;
const App = ({
  name = 'Stranger'
}) => {
  const dummyInputData = [];
  const {
    useEffect,
    useState
  } = React;
  const [currentName, setCurrentName] = useState('stranger');
  const [inputFields, setInputFields] = useState({});
  const [currentInput, setCurrentInput] = useState('');
  useInput((input, key) => {
    if (key.return) {
      console.log("rturn key was pressed", currentInput);
      updateDataInState(currentInput);
    }
  });
  const getData = name => {
    name = name || currentName;
    return inputFields[name];
  };
  const createNewNameData = obj => {
    const {
      name,
      balance = 0,
      owedMoney = 0,
      owedFrom = ''
    } = obj;
    return {
      [name]: {
        inputData: [{
          inputType: 'login',
          inputText: `login ${name}`,
          outputText: `Hello, ${name}! \nYour balance is ${balance}`
        }],
        balance: balance,
        owedMoney: owedMoney,
        owedTo: '',
        owedFrom: owedFrom
      }
    };
  };
  const updateDataInState = inputStr => {
    let getDataFromState;
    if (inputStr.includes('login')) {
      const name = inputStr.split(' ')[1];
      if (!name) {
        return;
      }
      console.log("in login ");
      const getDataFromState = getData(name);
      console.log("getDataFromState line 53 xcalled");
      if (!getDataFromState) {
        const createdData = createNewNameData({
          name
        });
        setInputFields({
          ...inputFields,
          ...createdData
        });
        setCurrentName(name);
        setCurrentInput('');
      } else {
        console.log('in line 60 else ', JSON.stringify(getDataFromState));
        const {
          owedMoney,
          owedFrom,
          inputData = []
        } = getDataFromState;
        getDataFromState.inputData = [...inputData, {
          inputType: 'login',
          inputText: inputStr,
          outputText: `Hello, ${name}! \nYour balance is ${getDataFromState.balance}\nOwed ${owedMoney} from ${owedFrom}`
        }];
        setInputFields({
          ...inputFields,
          ...getDataFromState
        });
        setCurrentInput('');
      }
      return 1;
    } else if (inputStr.includes('logout')) {
      getDataFromState = getData();
      const {
        inputData = []
      } = getDataFromState;
      const updatedData = [...inputData, {
        inputType: 'logout',
        inputText: inputStr,
        outputText: `Goodbye, ${currentName}!`
      }];
      if (!getDataFromState) {
        return;
      }
      getDataFromState.inputData = updatedData;
      setInputFields({
        ...inputFields,
        ...getDataFromState
      });
      setCurrentInput('');
      return 1;
    } else if (inputStr.includes('deposit')) {
      const depositAmount = Number(inputStr.split(' ')[1]);
      getDataFromState = getData();
      getDataFromState.balance += depositAmount;
      const {
        inputData = []
      } = getDataFromState;
      const updatedData = [...inputData, {
        inputType: 'deposit',
        inputText: inputStr,
        outputText: `Your balance is ${getDataFromState.balance}`
      }];
      if (!getDataFromState) {
        return;
      }
      getDataFromState.inputData = updatedData;
      setInputFields({
        ...inputFields,
        ...getDataFromState
      });
      setCurrentInput('');
      return 1;
    } else if (inputStr.includes('transfer')) {
      console.log("in transfer");
      const transfereeName = inputStr.split(' ')[1];
      const transferAmt = Number(inputStr.split(' ')[2]);
      getDataFromState = getData();
      let getDataFromStateForTransfer = getData(transfereeName);
      const netBalance = getDataFromState.balance - transferAmt;
      let outputText;
      if (netBalance < 0) {
        getDataFromState.balance = 0;
        getDataFromState.owedMoney = Math.abs(netBalance);
        getDataFromState.owedTo = transfereeName;
        outputText = `Transferred $${transferAmt} to ${transfereeName}\nyour balance is $0\nOwed ${-netBalance} to ${transfereeName}`;
      } else {
        getDataFromState.balance = netBalance;
        outputText = `Transferred $${transferAmt} to ${transfereeName}\nyour balance is $${netBalance}`;
      }
      const {
        inputData = []
      } = getDataFromState;
      const updatedData = [...inputData, {
        inputType: 'transfer',
        inputText: inputStr,
        outputText: outputText
      }];
      let createdData2;
      getDataFromState.inputData = updatedData;
      if (!getDataFromStateForTransfer) {
        getDataFromStateForTransfer = createNewNameData({
          name: transfereeName,
          balance: transferAmt,
          ...(netBalance < 0 ? {
            owedMoney: Math.abs(netBalance),
            owedFrom: currentName
          } : {})
        });
      } else {
        getDataFromStateForTransfer.balance += transferAmt;
        if (netBalance < 0) {
          getDataFromStateForTransfer.owedMoney = Math.abs(netBalance);
          getDataFromStateForTransfer.owedFrom = currentName;
        }
      }
      setInputFields({
        ...inputFields,
        ...getDataFromStateForTransfer,
        ...getDataFromStateForTransfer
      });
      setCurrentInput('');
      console.log('\n\n\ninputFeilds', JSON.stringify(inputFields), '\n\n');
      return 1;
    }
  };
  const currentData = getData();
  return /*#__PURE__*/React.createElement(Box, {
    flexDirection: 'column'
  }, /*#__PURE__*/React.createElement(Box, {
    flexDirection: 'column'
  }, currentData?.inputData?.map((field, index) => {
    return /*#__PURE__*/React.createElement(Box, {
      flexDirection: 'column',
      key: index
    }, /*#__PURE__*/React.createElement(Text, null, field.inputText), /*#__PURE__*/React.createElement(Text, null, field.outputText), /*#__PURE__*/React.createElement(Newline, null));
  })), /*#__PURE__*/React.createElement(Box, {
    flexDirection: 'column'
  }, /*#__PURE__*/React.createElement(TextInput, {
    placeholder: '',
    value: currentInput,
    onChange: setCurrentInput
  })));
};
module.exports = App;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJUZXh0IiwiQm94IiwidXNlSW5wdXQiLCJOZXdsaW5lIiwiVGV4dElucHV0IiwiZGVmYXVsdCIsIkFwcCIsIm5hbWUiLCJkdW1teUlucHV0RGF0YSIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiY3VycmVudE5hbWUiLCJzZXRDdXJyZW50TmFtZSIsImlucHV0RmllbGRzIiwic2V0SW5wdXRGaWVsZHMiLCJjdXJyZW50SW5wdXQiLCJzZXRDdXJyZW50SW5wdXQiLCJpbnB1dCIsImtleSIsInJldHVybiIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGVEYXRhSW5TdGF0ZSIsImdldERhdGEiLCJjcmVhdGVOZXdOYW1lRGF0YSIsIm9iaiIsImJhbGFuY2UiLCJvd2VkTW9uZXkiLCJvd2VkRnJvbSIsImlucHV0RGF0YSIsImlucHV0VHlwZSIsImlucHV0VGV4dCIsIm91dHB1dFRleHQiLCJvd2VkVG8iLCJpbnB1dFN0ciIsImdldERhdGFGcm9tU3RhdGUiLCJpbmNsdWRlcyIsInNwbGl0IiwiY3JlYXRlZERhdGEiLCJKU09OIiwic3RyaW5naWZ5IiwidXBkYXRlZERhdGEiLCJkZXBvc2l0QW1vdW50IiwiTnVtYmVyIiwidHJhbnNmZXJlZU5hbWUiLCJ0cmFuc2ZlckFtdCIsImdldERhdGFGcm9tU3RhdGVGb3JUcmFuc2ZlciIsIm5ldEJhbGFuY2UiLCJNYXRoIiwiYWJzIiwiY3JlYXRlZERhdGEyIiwiY3VycmVudERhdGEiLCJtYXAiLCJmaWVsZCIsImluZGV4IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbInVpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuY29uc3QgeyBUZXh0LCBCb3gsIHVzZUlucHV0LCBOZXdsaW5lIH0gPSByZXF1aXJlKFwiaW5rXCIpO1xuY29uc3QgVGV4dElucHV0ID0gcmVxdWlyZShcImluay10ZXh0LWlucHV0XCIpLmRlZmF1bHQ7XG5cbmNvbnN0IEFwcCA9ICh7bmFtZSA9ICdTdHJhbmdlcid9KSA9PiB7XG5cdGNvbnN0IGR1bW15SW5wdXREYXRhID0gW11cblx0Y29uc3Qge3VzZUVmZmVjdCwgdXNlU3RhdGV9ID0gUmVhY3Q7XG5cdGNvbnN0IFtjdXJyZW50TmFtZSwgc2V0Q3VycmVudE5hbWVdID0gdXNlU3RhdGUoJ3N0cmFuZ2VyJyk7XG5cdGNvbnN0IFtpbnB1dEZpZWxkcywgc2V0SW5wdXRGaWVsZHNdID0gdXNlU3RhdGUoe30pO1xuXHRjb25zdCBbY3VycmVudElucHV0LCBzZXRDdXJyZW50SW5wdXRdID0gdXNlU3RhdGUoJycpO1xuXG5cdHVzZUlucHV0KChpbnB1dCwga2V5KSA9PiB7XG5cdFx0aWYoa2V5LnJldHVybikge1xuXHRcdFx0Y29uc29sZS5sb2coXCJydHVybiBrZXkgd2FzIHByZXNzZWRcIiwgY3VycmVudElucHV0KVxuXHRcdFx0dXBkYXRlRGF0YUluU3RhdGUoY3VycmVudElucHV0KVxuXHRcdH1cblxuXHR9KTtcblxuXG5cdGNvbnN0IGdldERhdGEgPSAobmFtZSkgPT4ge1xuXHRcdG5hbWUgPSBuYW1lIHx8IGN1cnJlbnROYW1lO1xuXHRcdHJldHVybiBpbnB1dEZpZWxkc1tuYW1lXTtcblx0fVxuXHRjb25zdCBjcmVhdGVOZXdOYW1lRGF0YSA9IChvYmopID0+IHtcblx0XHRjb25zdHsgbmFtZSwgYmFsYW5jZSA9IDAsIG93ZWRNb25leT0wLCBvd2VkRnJvbT0gJyd9ID0gb2JqO1xuXHRcdCByZXR1cm4ge1xuXHRcdFx0W25hbWVdIDoge1xuXHRcdFx0XHRpbnB1dERhdGE6IFt7XG5cdFx0XHRcdFx0aW5wdXRUeXBlOiAnbG9naW4nLFxuXHRcdFx0XHRcdGlucHV0VGV4dDogYGxvZ2luICR7bmFtZX1gLFxuXHRcdFx0XHRcdG91dHB1dFRleHQ6IGBIZWxsbywgJHtuYW1lfSEgXFxuWW91ciBiYWxhbmNlIGlzICR7YmFsYW5jZX1gXG5cdFx0XHRcdH1dLFxuXHRcdFx0XHRiYWxhbmNlOmJhbGFuY2UsXG5cdFx0XHRcdG93ZWRNb25leTogb3dlZE1vbmV5LFxuXHRcdFx0XHRvd2VkVG86ICcnLFxuXHRcdFx0XHRvd2VkRnJvbTogb3dlZEZyb20sXG5cdFx0XHR9XG5cdFx0fVxuXHRcdH1cblxuXG5cdGNvbnN0ICB1cGRhdGVEYXRhSW5TdGF0ZSA9IChpbnB1dFN0cikgPT4ge1xuXHRcdGxldCBnZXREYXRhRnJvbVN0YXRlO1xuXHRcdFx0aWYoaW5wdXRTdHIuaW5jbHVkZXMoJ2xvZ2luJykpIHtcblx0XHRcdFx0Y29uc3QgbmFtZSA9IGlucHV0U3RyLnNwbGl0KCcgJylbMV1cblx0XHRcdFx0aWYoIW5hbWUpIHtcblx0XHRcdFx0XHRyZXR1cm4gO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiaW4gbG9naW4gXCIpXG5cdFx0XHRcdGNvbnN0IGdldERhdGFGcm9tU3RhdGUgPSBnZXREYXRhKG5hbWUpXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiZ2V0RGF0YUZyb21TdGF0ZSBsaW5lIDUzIHhjYWxsZWRcIilcblx0XHRcdFx0aWYoIWdldERhdGFGcm9tU3RhdGUpIHtcblx0XHRcdFx0XHRjb25zdCBjcmVhdGVkRGF0YSA9IGNyZWF0ZU5ld05hbWVEYXRhKHtuYW1lfSkgO1xuXHRcdFx0XHRcdHNldElucHV0RmllbGRzKHsuLi5pbnB1dEZpZWxkcywgLi4uY3JlYXRlZERhdGF9KVxuXHRcdFx0XHRcdHNldEN1cnJlbnROYW1lKG5hbWUpXG5cdFx0XHRcdFx0c2V0Q3VycmVudElucHV0KCcnKVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdpbiBsaW5lIDYwIGVsc2UgJywgSlNPTi5zdHJpbmdpZnkoZ2V0RGF0YUZyb21TdGF0ZSkpXG5cdFx0XHRcdFx0Y29uc3Qge293ZWRNb25leSwgb3dlZEZyb20sXG5cdFx0XHRcdFx0XHRpbnB1dERhdGEgPSBbXX0gPSBnZXREYXRhRnJvbVN0YXRlXG5cdFx0XHRcdFx0Z2V0RGF0YUZyb21TdGF0ZS5pbnB1dERhdGEgPSBbLi4uaW5wdXREYXRhLFxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRpbnB1dFR5cGU6ICdsb2dpbicsXG5cdFx0XHRcdFx0XHRcdGlucHV0VGV4dDogaW5wdXRTdHIsXG5cdFx0XHRcdFx0XHRcdG91dHB1dFRleHQ6IGBIZWxsbywgJHtuYW1lfSEgXFxuWW91ciBiYWxhbmNlIGlzICR7Z2V0RGF0YUZyb21TdGF0ZS5iYWxhbmNlfVxcbk93ZWQgJHtvd2VkTW9uZXl9IGZyb20gJHtvd2VkRnJvbX1gXG5cdFx0XHRcdFx0XHR9XVxuXHRcdFx0XHRcdHNldElucHV0RmllbGRzKHsuLi5pbnB1dEZpZWxkcywgLi4uZ2V0RGF0YUZyb21TdGF0ZX0pXG5cdFx0XHRcdFx0c2V0Q3VycmVudElucHV0KCcnKVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiAxO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZihpbnB1dFN0ci5pbmNsdWRlcygnbG9nb3V0JykpIHtcblx0XHRcdFx0Z2V0RGF0YUZyb21TdGF0ZSA9ICBnZXREYXRhKClcblx0XHRcdFx0Y29uc3Qge2lucHV0RGF0YSA9IFtdfSA9IGdldERhdGFGcm9tU3RhdGU7XG5cdFx0XHRcdGNvbnN0IHVwZGF0ZWREYXRhID0gWy4uLmlucHV0RGF0YSxcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRpbnB1dFR5cGU6ICdsb2dvdXQnLFxuXHRcdFx0XHRcdFx0aW5wdXRUZXh0OiBpbnB1dFN0cixcblx0XHRcdFx0XHRcdG91dHB1dFRleHQ6IGBHb29kYnllLCAke2N1cnJlbnROYW1lfSFgXG5cdFx0XHRcdFx0fV1cblx0XHRcdFx0aWYoIWdldERhdGFGcm9tU3RhdGUpIHtcblx0XHRcdFx0XHRyZXR1cm5cblx0XHRcdFx0fVxuXHRcdFx0XHRnZXREYXRhRnJvbVN0YXRlLmlucHV0RGF0YSA9IHVwZGF0ZWREYXRhO1xuXHRcdFx0XHRzZXRJbnB1dEZpZWxkcyh7Li4uaW5wdXRGaWVsZHMsIC4uLmdldERhdGFGcm9tU3RhdGV9KVxuXHRcdFx0XHRzZXRDdXJyZW50SW5wdXQoJycpXG5cdFx0XHRcdHJldHVybiAxO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZihpbnB1dFN0ci5pbmNsdWRlcygnZGVwb3NpdCcpKSB7XG5cdFx0XHRcdGNvbnN0IGRlcG9zaXRBbW91bnQgPSBOdW1iZXIoaW5wdXRTdHIuc3BsaXQoJyAnKVsxXSlcblx0XHRcdFx0Z2V0RGF0YUZyb21TdGF0ZSA9IGdldERhdGEoKVxuXHRcdFx0XHRnZXREYXRhRnJvbVN0YXRlLmJhbGFuY2UgKz0gZGVwb3NpdEFtb3VudDtcblx0XHRcdFx0Y29uc3Qge2lucHV0RGF0YSA9IFtdfSA9IGdldERhdGFGcm9tU3RhdGU7XG5cdFx0XHRcdGNvbnN0IHVwZGF0ZWREYXRhID0gWy4uLmlucHV0RGF0YSxcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRpbnB1dFR5cGU6ICdkZXBvc2l0Jyxcblx0XHRcdFx0XHRcdGlucHV0VGV4dDogaW5wdXRTdHIsXG5cdFx0XHRcdFx0XHRvdXRwdXRUZXh0OiBgWW91ciBiYWxhbmNlIGlzICR7Z2V0RGF0YUZyb21TdGF0ZS5iYWxhbmNlfWBcblx0XHRcdFx0XHR9XVxuXHRcdFx0XHRpZighZ2V0RGF0YUZyb21TdGF0ZSkge1xuXHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHR9XG5cdFx0XHRcdGdldERhdGFGcm9tU3RhdGUuaW5wdXREYXRhID0gdXBkYXRlZERhdGE7XG5cblx0XHRcdFx0c2V0SW5wdXRGaWVsZHMoey4uLmlucHV0RmllbGRzLCAuLi5nZXREYXRhRnJvbVN0YXRlfSlcblx0XHRcdFx0c2V0Q3VycmVudElucHV0KCcnKVxuXHRcdFx0XHRyZXR1cm4gMTtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYoaW5wdXRTdHIuaW5jbHVkZXMoJ3RyYW5zZmVyJykpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJpbiB0cmFuc2ZlclwiKVxuXHRcdFx0XHRjb25zdCB0cmFuc2ZlcmVlTmFtZSA9IGlucHV0U3RyLnNwbGl0KCcgJylbMV1cblx0XHRcdFx0Y29uc3QgdHJhbnNmZXJBbXQgPSBOdW1iZXIoaW5wdXRTdHIuc3BsaXQoJyAnKVsyXSk7XG5cdFx0XHRcdGdldERhdGFGcm9tU3RhdGUgPSBnZXREYXRhKClcblx0XHRcdFx0bGV0IGdldERhdGFGcm9tU3RhdGVGb3JUcmFuc2ZlciA9IGdldERhdGEodHJhbnNmZXJlZU5hbWUpXG5cdFx0XHRcdGNvbnN0IG5ldEJhbGFuY2UgPSBnZXREYXRhRnJvbVN0YXRlLmJhbGFuY2UgLXRyYW5zZmVyQW10O1xuXHRcdFx0XHRsZXQgb3V0cHV0VGV4dDtcblx0XHRcdFx0aWYobmV0QmFsYW5jZSA8MCkge1xuXHRcdFx0XHRcdGdldERhdGFGcm9tU3RhdGUuYmFsYW5jZSA9IDA7XG5cdFx0XHRcdFx0Z2V0RGF0YUZyb21TdGF0ZS5vd2VkTW9uZXkgPSBNYXRoLmFicyhuZXRCYWxhbmNlKTtcblx0XHRcdFx0XHRnZXREYXRhRnJvbVN0YXRlLm93ZWRUbyA9IHRyYW5zZmVyZWVOYW1lO1xuXHRcdFx0XHRcdG91dHB1dFRleHQgPSBgVHJhbnNmZXJyZWQgJCR7dHJhbnNmZXJBbXR9IHRvICR7dHJhbnNmZXJlZU5hbWV9XFxueW91ciBiYWxhbmNlIGlzICQwXFxuT3dlZCAkey1uZXRCYWxhbmNlfSB0byAke3RyYW5zZmVyZWVOYW1lfWBcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRnZXREYXRhRnJvbVN0YXRlLmJhbGFuY2UgPSBuZXRCYWxhbmNlO1xuXHRcdFx0XHRcdG91dHB1dFRleHQgPSBgVHJhbnNmZXJyZWQgJCR7dHJhbnNmZXJBbXR9IHRvICR7dHJhbnNmZXJlZU5hbWV9XFxueW91ciBiYWxhbmNlIGlzICQke25ldEJhbGFuY2V9YFxuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnN0IHtpbnB1dERhdGEgPSBbXX0gPSBnZXREYXRhRnJvbVN0YXRlO1xuXHRcdFx0XHRjb25zdCB1cGRhdGVkRGF0YSA9IFsuLi5pbnB1dERhdGEsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0aW5wdXRUeXBlOiAndHJhbnNmZXInLFxuXHRcdFx0XHRcdFx0aW5wdXRUZXh0OiBpbnB1dFN0cixcblx0XHRcdFx0XHRcdG91dHB1dFRleHQ6IG91dHB1dFRleHRcblx0XHRcdFx0XHR9XVxuXHRcdFx0XHRsZXQgY3JlYXRlZERhdGEyIDtcblx0XHRcdFx0Z2V0RGF0YUZyb21TdGF0ZS5pbnB1dERhdGEgPSB1cGRhdGVkRGF0YVxuXHRcdFx0XHRpZighZ2V0RGF0YUZyb21TdGF0ZUZvclRyYW5zZmVyKSB7XG5cblx0XHRcdFx0XHRnZXREYXRhRnJvbVN0YXRlRm9yVHJhbnNmZXIgPSBjcmVhdGVOZXdOYW1lRGF0YShcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0bmFtZTp0cmFuc2ZlcmVlTmFtZSxcblx0XHRcdFx0XHRcdFx0YmFsYW5jZTp0cmFuc2ZlckFtdCxcblx0XHRcdFx0XHRcdFx0Li4uKG5ldEJhbGFuY2UgPDAgPyB7b3dlZE1vbmV5IDogTWF0aC5hYnMobmV0QmFsYW5jZSksXG5cdFx0XHRcdFx0XHRcdFx0b3dlZEZyb206IGN1cnJlbnROYW1lfSA6IHt9KVxuXHRcdFx0XHRcdFx0fSkgO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Z2V0RGF0YUZyb21TdGF0ZUZvclRyYW5zZmVyLmJhbGFuY2UgKz0gdHJhbnNmZXJBbXRcblx0XHRcdFx0XHRpZihuZXRCYWxhbmNlIDwgMCkge1xuXHRcdFx0XHRcdFx0Z2V0RGF0YUZyb21TdGF0ZUZvclRyYW5zZmVyLm93ZWRNb25leSA9IE1hdGguYWJzKG5ldEJhbGFuY2UpXG5cdFx0XHRcdFx0XHRnZXREYXRhRnJvbVN0YXRlRm9yVHJhbnNmZXIub3dlZEZyb20gPSBjdXJyZW50TmFtZVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRzZXRJbnB1dEZpZWxkcyh7Li4uaW5wdXRGaWVsZHMsIC4uLmdldERhdGFGcm9tU3RhdGVGb3JUcmFuc2Zlcixcblx0XHRcdFx0Li4uZ2V0RGF0YUZyb21TdGF0ZUZvclRyYW5zZmVyfSlcblx0XHRcdFx0c2V0Q3VycmVudElucHV0KCcnKVxuXHRcdFx0XHRjb25zb2xlLmxvZygnXFxuXFxuXFxuaW5wdXRGZWlsZHMnLFxuXHRcdFx0XHRcdEpTT04uc3RyaW5naWZ5KGlucHV0RmllbGRzKSwgJ1xcblxcbicpXG5cdFx0XHRcdHJldHVybiAxO1xuXHRcdFx0fVxuXHR9XG5cblx0Y29uc3QgY3VycmVudERhdGEgPSBnZXREYXRhKCk7XG5cdHJldHVybiAoXG5cdFx0PEJveCBmbGV4RGlyZWN0aW9uPXsnY29sdW1uJ30+XG5cdFx0XHQ8Qm94IGZsZXhEaXJlY3Rpb249eydjb2x1bW4nfT5cblx0XHRcdHtjdXJyZW50RGF0YT8uaW5wdXREYXRhPy5tYXAoKGZpZWxkLCBpbmRleCk9PiB7XG5cdFx0XHRcdHJldHVybihcblx0XHRcdFx0XHQ8Qm94IGZsZXhEaXJlY3Rpb249eydjb2x1bW4nfVxuXHRcdFx0XHRcdFx0IGtleT17aW5kZXh9PlxuXHRcdFx0XHRcdFx0PFRleHQ+XG5cdFx0XHRcdFx0XHRcdHtmaWVsZC5pbnB1dFRleHR9XG5cdFx0XHRcdFx0XHQ8L1RleHQ+XG5cdFx0XHRcdFx0XHQ8VGV4dD5cblx0XHRcdFx0XHRcdFx0e2ZpZWxkLm91dHB1dFRleHR9XG5cdFx0XHRcdFx0XHQ8L1RleHQ+XG5cdFx0XHRcdFx0XHQ8TmV3bGluZSAvPlxuXHRcdFx0XHRcdDwvQm94PlxuXHRcdFx0XHQpXG5cdFx0XHR9KX1cblx0XHRcdDwvQm94PlxuXHRcdFx0PEJveCBmbGV4RGlyZWN0aW9uPXsnY29sdW1uJ30+XG5cdFx0XHRcdDxUZXh0SW5wdXRcblx0XHRcdFx0XHRwbGFjZWhvbGRlcj17Jyd9XG5cdFx0XHRcdFx0dmFsdWU9e2N1cnJlbnRJbnB1dH1cblx0XHRcdFx0XHRvbkNoYW5nZT17c2V0Q3VycmVudElucHV0fVxuXHRcdFx0XHQvPlxuXHRcdFx0PC9Cb3g+XG5cdFx0PC9Cb3g+XG5cdClcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQXBwO1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUNaLE1BQU1BLEtB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