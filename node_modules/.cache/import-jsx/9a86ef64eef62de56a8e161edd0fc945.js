const React = require('react');
const {
  Text,
  Box,
  useInput,
  Newline
} = require("ink");
const TextInput = require("ink-text-input").default;
const App = ({
  name = 'Stranger'
}) => {
  const dummyInputData = [];
  const {
    useEffect,
    useState
  } = React;
  const [currentName, setCurrentName] = useState('stranger');
  const [inputFields, setInputFields] = useState({});
  const [currentInput, setCurrentInput] = useState('');
  useInput((input, key) => {
    if (key.return) {
      console.log("rturn key was pressed", currentInput);
      updateDataInState(currentInput);
    }
  });
  const getData = name => {
    name = name || currentName;
    return inputFields[name];
  };
  const createNewNameData = obj => {
    const {
      name,
      balance = 0,
      owedMoney = 0
    } = obj;
    return {
      [name]: {
        inputData: [{
          inputType: 'login',
          inputText: `login ${name}`,
          outputText: `Hello, ${name}! \nYour balance is ${balance}`
        }],
        balance: 0,
        owedMoney: 0,
        owedTo: '',
        owedFrom: ''
      }
    };
  };
  const updateDataInState = inputStr => {
    if (inputStr.includes('login')) {
      console.log("in login");
      const name = inputStr.split(' ')[1];
      const getDataFromState = getData(name);
      if (!getDataFromState) {
        const createdData = createNewNameData({
          name
        });
        setInputFields({
          ...inputFields,
          ...createdData
        });
        setCurrentName(name);
        setCurrentInput('');
      }
      return 1;
    } else if (inputStr.includes('logout')) {
      console.log("in logout");
      return 1;
    } else if (inputStr.includes('deposit')) {
      console.log("in deposit");
      const getDataFromState = getData(name);
      return 1;
    } else if (inputStr.includes('transfer')) {
      console.log("in transfer");
      return 1;
    }
  };
  const currentData = getData();
  return /*#__PURE__*/React.createElement(Box, {
    flexDirection: 'column'
  }, /*#__PURE__*/React.createElement(Box, {
    flexDirection: 'column'
  }, currentData?.inputData?.map((field, index) => {
    return /*#__PURE__*/React.createElement(Box, {
      flexDirection: 'column',
      key: index
    }, /*#__PURE__*/React.createElement(Text, null, field.inputText), /*#__PURE__*/React.createElement(Newline, null), /*#__PURE__*/React.createElement(Text, null, field.outputText));
  })), /*#__PURE__*/React.createElement(Box, {
    flexDirection: 'column'
  }, /*#__PURE__*/React.createElement(TextInput, {
    placeholder: '',
    value: currentInput,
    onChange: setCurrentInput
  }), /*#__PURE__*/React.createElement(Newline, null)));
};
module.exports = App;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJUZXh0IiwiQm94IiwidXNlSW5wdXQiLCJOZXdsaW5lIiwiVGV4dElucHV0IiwiZGVmYXVsdCIsIkFwcCIsIm5hbWUiLCJkdW1teUlucHV0RGF0YSIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiY3VycmVudE5hbWUiLCJzZXRDdXJyZW50TmFtZSIsImlucHV0RmllbGRzIiwic2V0SW5wdXRGaWVsZHMiLCJjdXJyZW50SW5wdXQiLCJzZXRDdXJyZW50SW5wdXQiLCJpbnB1dCIsImtleSIsInJldHVybiIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGVEYXRhSW5TdGF0ZSIsImdldERhdGEiLCJjcmVhdGVOZXdOYW1lRGF0YSIsIm9iaiIsImJhbGFuY2UiLCJvd2VkTW9uZXkiLCJpbnB1dERhdGEiLCJpbnB1dFR5cGUiLCJpbnB1dFRleHQiLCJvdXRwdXRUZXh0Iiwib3dlZFRvIiwib3dlZEZyb20iLCJpbnB1dFN0ciIsImluY2x1ZGVzIiwic3BsaXQiLCJnZXREYXRhRnJvbVN0YXRlIiwiY3JlYXRlZERhdGEiLCJjdXJyZW50RGF0YSIsIm1hcCIsImZpZWxkIiwiaW5kZXgiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsidWkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXG5jb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5jb25zdCB7IFRleHQsIEJveCwgdXNlSW5wdXQsIE5ld2xpbmUgfSA9IHJlcXVpcmUoXCJpbmtcIik7XG5jb25zdCBUZXh0SW5wdXQgPSByZXF1aXJlKFwiaW5rLXRleHQtaW5wdXRcIikuZGVmYXVsdDtcblxuY29uc3QgQXBwID0gKHtuYW1lID0gJ1N0cmFuZ2VyJ30pID0+IHtcblx0Y29uc3QgZHVtbXlJbnB1dERhdGEgPSBbXVxuXHRjb25zdCB7dXNlRWZmZWN0LCB1c2VTdGF0ZX0gPSBSZWFjdDtcblx0Y29uc3QgW2N1cnJlbnROYW1lLCBzZXRDdXJyZW50TmFtZV0gPSB1c2VTdGF0ZSgnc3RyYW5nZXInKTtcblx0Y29uc3QgW2lucHV0RmllbGRzLCBzZXRJbnB1dEZpZWxkc10gPSB1c2VTdGF0ZSh7fSk7XG5cdGNvbnN0IFtjdXJyZW50SW5wdXQsIHNldEN1cnJlbnRJbnB1dF0gPSB1c2VTdGF0ZSgnJyk7XG5cblx0dXNlSW5wdXQoKGlucHV0LCBrZXkpID0+IHtcblx0XHRpZihrZXkucmV0dXJuKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhcInJ0dXJuIGtleSB3YXMgcHJlc3NlZFwiLCBjdXJyZW50SW5wdXQpXG5cdFx0XHR1cGRhdGVEYXRhSW5TdGF0ZShjdXJyZW50SW5wdXQpXG5cdFx0fVxuXG5cdH0pO1xuXG5cblx0Y29uc3QgZ2V0RGF0YSA9IChuYW1lKSA9PiB7XG5cdFx0bmFtZSA9IG5hbWUgfHwgY3VycmVudE5hbWU7XG5cdFx0cmV0dXJuIGlucHV0RmllbGRzW25hbWVdXG5cdH1cblx0Y29uc3QgY3JlYXRlTmV3TmFtZURhdGEgPSAob2JqKSA9PiB7XG5cdFx0Y29uc3R7IG5hbWUsIGJhbGFuY2UgPSAwLCBvd2VkTW9uZXk9MH0gPSBvYmo7XG5cdFx0IHJldHVybiB7XG5cdFx0XHRbbmFtZV0gOiB7XG5cdFx0XHRcdGlucHV0RGF0YTogW3tcblx0XHRcdFx0XHRpbnB1dFR5cGU6ICdsb2dpbicsXG5cdFx0XHRcdFx0aW5wdXRUZXh0OiBgbG9naW4gJHtuYW1lfWAsXG5cdFx0XHRcdFx0b3V0cHV0VGV4dDogYEhlbGxvLCAke25hbWV9ISBcXG5Zb3VyIGJhbGFuY2UgaXMgJHtiYWxhbmNlfWBcblx0XHRcdFx0fV0sXG5cdFx0XHRcdGJhbGFuY2U6MCxcblx0XHRcdFx0b3dlZE1vbmV5OiAwLFxuXHRcdFx0XHRvd2VkVG86ICcnLFxuXHRcdFx0XHRvd2VkRnJvbTogJycsXG5cdFx0XHR9XG5cdFx0fVxuXHRcdH1cblxuXG5cdGNvbnN0ICB1cGRhdGVEYXRhSW5TdGF0ZSA9IChpbnB1dFN0cikgPT4ge1xuXHRcdFx0aWYoaW5wdXRTdHIuaW5jbHVkZXMoJ2xvZ2luJykpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJpbiBsb2dpblwiKVxuXHRcdFx0XHRjb25zdCBuYW1lID0gaW5wdXRTdHIuc3BsaXQoJyAnKVsxXVxuXHRcdFx0XHRjb25zdCBnZXREYXRhRnJvbVN0YXRlID0gZ2V0RGF0YShuYW1lKVxuXG5cdFx0XHRcdGlmKCFnZXREYXRhRnJvbVN0YXRlKSB7XG5cdFx0XHRcdFx0Y29uc3QgY3JlYXRlZERhdGEgPSBjcmVhdGVOZXdOYW1lRGF0YSh7bmFtZX0pIDtcblx0XHRcdFx0XHRzZXRJbnB1dEZpZWxkcyh7Li4uaW5wdXRGaWVsZHMsIC4uLmNyZWF0ZWREYXRhfSlcblx0XHRcdFx0XHRzZXRDdXJyZW50TmFtZShuYW1lKVxuXHRcdFx0XHRcdHNldEN1cnJlbnRJbnB1dCgnJylcblx0XHRcdFx0fVxuXG5cblx0XHRcdFx0cmV0dXJuIDE7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmKGlucHV0U3RyLmluY2x1ZGVzKCdsb2dvdXQnKSkge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhcImluIGxvZ291dFwiKVxuXG5cdFx0XHRcdHJldHVybiAxO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZihpbnB1dFN0ci5pbmNsdWRlcygnZGVwb3NpdCcpKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiaW4gZGVwb3NpdFwiKVxuXHRcdFx0XHRjb25zdCBnZXREYXRhRnJvbVN0YXRlID0gZ2V0RGF0YShuYW1lKVxuXHRcdFx0XHRyZXR1cm4gMTtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYoaW5wdXRTdHIuaW5jbHVkZXMoJ3RyYW5zZmVyJykpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJpbiB0cmFuc2ZlclwiKVxuXHRcdFx0XHRyZXR1cm4gMTtcblx0XHRcdH1cblx0fVxuXG5cdGNvbnN0IGN1cnJlbnREYXRhID0gZ2V0RGF0YSgpO1xuXHRyZXR1cm4gKFxuXHRcdDxCb3ggZmxleERpcmVjdGlvbj17J2NvbHVtbid9PlxuXHRcdFx0PEJveCBmbGV4RGlyZWN0aW9uPXsnY29sdW1uJ30+XG5cdFx0XHR7Y3VycmVudERhdGE/LmlucHV0RGF0YT8ubWFwKChmaWVsZCwgaW5kZXgpPT4ge1xuXHRcdFx0XHRyZXR1cm4oXG5cdFx0XHRcdFx0PEJveCBmbGV4RGlyZWN0aW9uPXsnY29sdW1uJ31cblx0XHRcdFx0XHRcdCBrZXk9e2luZGV4fT5cblx0XHRcdFx0XHRcdDxUZXh0PlxuXHRcdFx0XHRcdFx0XHR7ZmllbGQuaW5wdXRUZXh0fVxuXHRcdFx0XHRcdFx0PC9UZXh0PlxuXHRcdFx0XHRcdFx0PE5ld2xpbmUgLz5cblx0XHRcdFx0XHRcdDxUZXh0PlxuXHRcdFx0XHRcdFx0XHR7ZmllbGQub3V0cHV0VGV4dH1cblx0XHRcdFx0XHRcdDwvVGV4dD5cblx0XHRcdFx0XHQ8L0JveD5cblx0XHRcdFx0KVxuXHRcdFx0fSl9XG5cdFx0XHQ8L0JveD5cblx0XHRcdDxCb3ggZmxleERpcmVjdGlvbj17J2NvbHVtbid9PlxuXHRcdFx0XHQ8VGV4dElucHV0XG5cdFx0XHRcdFx0cGxhY2Vob2xkZXI9eycnfVxuXHRcdFx0XHRcdHZhbHVlPXtjdXJyZW50SW5wdXR9XG5cdFx0XHRcdFx0b25DaGFuZ2U9e3NldEN1cnJlbnRJbnB1dH1cblx0XHRcdFx0Lz5cblx0XHRcdFx0PE5ld2xpbmUgLz5cblx0XHRcdDwvQm94PlxuXHRcdDwvQm94PlxuXHQpXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFwcDtcbiJdLCJtYXBwaW5ncyI6IkFBQ0EsTUFBTUEsS0FBSyxHQUFHQyxPQUFPLENBQUMsT0FBTyxDQUFDO0FBQzlCLE1BQU07RUFBRUMsSUFBSTtFQUFFQyxHQUFHO0VBQUVDLFFBQVE7RUFBRUM7QUFBUSxDQUFDLEdBQUdKLE9BQU8sQ0FBQyxLQUFLLENBQUM7QUFDdkQsTUFBTUssU0FBUyxHQUFHTCxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQ00sT0FBTztBQUVuRCxNQUFNQyxHQUFHLEdBQUcsQ0FBQztFQUFDQyxJQUFJLEdBQUc7QUFBVSxDQUFDLEtBQUs7RUFDcEMsTUFBTUMsY0FBYyxHQUFHLEVBQUU7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